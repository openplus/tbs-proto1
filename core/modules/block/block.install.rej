***************
*** 117,119 ****
  
    return t('Block settings updated.');
  }
--- 117,140 ----
  
    return t('Block settings updated.');
  }
+ 
+ /**
+  * Updates the node type visibility condition.
+  */
+ function block_update_8600() {
+ 
+   $config_factory = \Drupal::configFactory();
+   foreach ($config_factory->listAll('block.block.') as $block_config_name) {
+     $block = $config_factory->getEditable($block_config_name);
+ 
+     if ($block->get('visibility.node_type')) {
+       $configuration = $block->get('visibility.node_type');
+       $configuration['id'] = 'entity_bundle:node';
+       $block->set('visibility.entity_bundle:node', $configuration);
+       $block->clear('visibility.node_type');
+       $block->save(TRUE);
+     }
+ 
+   }
+ 
+ }
